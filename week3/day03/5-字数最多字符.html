<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
    /*

    */
   //获取字符串中出现最多的那个字符
   var str = 'ddhsjhjhdakndgndsmhcbfsdmhdnmfhnsmfbs';
   
   function getMax (str) {
       let obj = {};
       for (let i = 0; i< str.length; i++) {
           //把字符串中的每一项都当作属性名存起来
           //存之前先看对象中有没有这个属性，没有的话我们就给对象增加这个属性，属性值是1
           if(obj.hasOwnProperty(str[i])) {
               obj[str[i]]++;
           } else {
               obj[str[i]] = 1;
           }
       }
       console.log(obj);
       
       var val = Object.values(obj);
       var key = Object.keys(obj);
       var m = Math.max(...val);
       var n = key[val.indexOf(m)]

    //    let key = '', num = 0;
    //    for (var k in obj) {
    //        if (obj[k] > num){
    //            num = obj[k];
    //            key = k;
    //        }
    //    }


       return {
           n ,m
       }
   }
   console.log(getMax(str));

   var reg = /(\d+?)\1*/;//       \1代表第一个小分组匹配的内容再； \2代表第二个小分组匹配的内容
   var str = '1222223123s237689';
   console.log(reg.exec(str));

   var str = 'zf2019z1f2020';
   var reg = /([a-z]+)(\d+)\2\1/;
   console.log(reg.exec(str))

   var str = 'ddhsjhjhdakndgndsmhcbfsdmhdnmfhnsmfbs';
   function getMax2 (str) {
        str = str.split('').sort().join('');//把字符串排序
        console.log(str);

        //match方法
        // var arr = str.match(/(\w)\1*/g);//获取相同字符组成的数组
        // console.log(arr);
        // arr.sort((a,b)=>{
        //     return b.length - a.length
        // });//数组排序，第一项就是 字符串最长的
        // return {
        //     key : arr[0][0],
        //     num : arr[0].length
        // }

        //replace方法
        var key = '', num = 0;
        str.replace(/(\w)\1*/g, function ($0,$1) {
            if ( $0.length > num) {
                num = $0.length;
                key = $1
            }
        })
        return {
            key ,num
        }
   }
   console.log(getMax2(str));
   
</script>